(()=>{"use strict";var e={n:s=>{var a=s&&s.__esModule?()=>s.default:()=>s;return e.d(a,{a}),a},d:(s,a)=>{for(var t in a)e.o(a,t)&&!e.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:a[t]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.jQuery;var a=e.n(s);new class{constructor(){this.sendButton=a()(".send-message"),this.bcfForm=a()(".bcf-form-fields"),this.fields={firstName:a()("#firstName"),lastName:a()("#lastName"),email:a()("#email"),message:a()("#message")},this.errors={firstName:a()("#error-firstName"),lastName:a()("#error-lastName"),email:a()("#error-email"),message:a()("#error-message")},this.events()}events(){this.sendButton.on("click",this.sendMessage.bind(this))}sendMessage(e){if(e.preventDefault(),this.validateForm()){var s={firstName:a()("#firstName").val(),lastName:a()("#lastName").val(),email:a()("#email").val(),phone:a()("#phone").val(),message:a()("#message").val(),status:"publish"};this.sendButton.html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Sending...');var t=this;a().ajax({url:bcf_contact_form_data.root_url+"/wp-json/bcf/v1/submit-message",method:"POST",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",bcf_contact_form_data.nonce)},data:s,success:function(e){t.sendButton.html("Send Message"),a()(".contact-form").addClass("d-none"),a()(".bcf-form-fields").html(`<div class="alert alert-success" role="alert">${e.message}</div>`)},error:function(e){t.sendButton.html("Send Message"),a()("#error-submit").removeClass("d-none"),a()("#error-submit").addClass("d-inline"),a()("#error-submit").html(e.responseJSON.message)}})}}validateForm(){let e=!0,s=null;return Object.keys(this.fields).forEach((a=>{const t=this.fields[a].val(),r=this.errors[a];!t||"email"===a&&!this.validateEmail(t)?(r.removeClass("d-none").addClass("d-inline").html(this.getErrorMessage(a)),s||(s=this.fields[a]),e=!1):r.removeClass("d-inline").addClass("d-none").html("")})),s&&s.focus(),e}getErrorMessage(e){return{firstName:"Please provide a First name",lastName:"Please provide a Last name",email:"Please provide a valid email",message:"Please type a message below."}[e]}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}}})();